{"ast":null,"code":"import React from'react';import{useInventoryTable,useDarkMode}from'../features/inventory-table/model/hooks';import{FilterPanel}from'../features/inventory-table/ui/FilterPanel';import{InventoryTable}from'../features/inventory-table/ui/InventoryTable';import{Pagination}from'../features/inventory-table/ui/Pagination';import{ExportButton}from'../features/inventory-table/ui/ExportButton';import{Button}from'../shared/ui/Button';import{Loader}from'../shared/ui/Loader';import{getUniqueIspolnitels}from'../features/inventory-table/lib/filterUtils';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{const{data,filteredData,paginatedData,loading,error,filters,sort,pagination,loadData,updateFilters,handleResetFilters,updateSort,goToPage,changePageSize}=useInventoryTable();const{isDark,toggleDarkMode}=useDarkMode();return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center h-16\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 dark:text-white\",children:\"3PL Inventory Dashboard\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:toggleDarkMode,className:\"p-2\",children:isDark?'‚òÄÔ∏è':'üåô'}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:loadData,loading:loading,children:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"})]})]})})}),/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-red-400\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-red-800 dark:text-red-400\",children:\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-700 dark:text-red-300\",children:error})]})]})}),loading&&!error&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-12\",children:/*#__PURE__*/_jsx(Loader,{size:\"lg\",text:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"})}),!loading&&!error&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6\",children:/*#__PURE__*/_jsx(FilterPanel,{filters:filters,onFiltersChange:updateFilters,availableConditions:Array.from(new Set(data.map(item=>item.condition))),availableIspolnitels:getUniqueIspolnitels(data),allData:data})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden\",children:/*#__PURE__*/_jsx(InventoryTable,{data:paginatedData,sort:sort,onSortChange:updateSort,loading:loading})}),filteredData.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(Pagination,{pagination:pagination,onPageChange:goToPage,onPageSizeChange:changePageSize})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:filteredData.length===data.length?\"\\u0412\\u0441\\u0435\\u0433\\u043E \\u0437\\u0430\\u043F\\u0438\\u0441\\u0435\\u0439: \".concat(data.length):\"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u043D\\u043E \".concat(filteredData.length,\" \\u0438\\u0437 \").concat(data.length,\" \\u0437\\u0430\\u043F\\u0438\\u0441\\u0435\\u0439\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:handleResetFilters,disabled:!filters.search&&!filters.name&&!filters.wr_name&&!filters.condition&&!filters.ispolnitel&&filters.placementStatus==='all',children:\"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B\"}),/*#__PURE__*/_jsx(ExportButton,{data:filteredData,disabled:filteredData.length===0})]})]})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useInventoryTable","useDarkMode","FilterPanel","InventoryTable","Pagination","ExportButton","Button","Loader","getUniqueIspolnitels","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","data","filteredData","paginatedData","loading","error","filters","sort","pagination","loadData","updateFilters","handleResetFilters","updateSort","goToPage","changePageSize","isDark","toggleDarkMode","className","children","variant","size","onClick","viewBox","fill","fillRule","d","clipRule","text","onFiltersChange","availableConditions","Array","from","Set","map","item","condition","availableIspolnitels","allData","onSortChange","length","onPageChange","onPageSizeChange","concat","disabled","search","name","wr_name","ispolnitel","placementStatus"],"sources":["D:/work/komus/3pl-site/src/pages/Dashboard.tsx"],"sourcesContent":["import React from 'react';\nimport { useInventoryTable, useDarkMode } from '../features/inventory-table/model/hooks';\nimport { FilterPanel } from '../features/inventory-table/ui/FilterPanel';\nimport { InventoryTable } from '../features/inventory-table/ui/InventoryTable';\nimport { Pagination } from '../features/inventory-table/ui/Pagination';\nimport { ExportButton } from '../features/inventory-table/ui/ExportButton';\nimport { Button } from '../shared/ui/Button';\nimport { Loader } from '../shared/ui/Loader';\nimport { getUniqueIspolnitels } from '../features/inventory-table/lib/filterUtils';\n\nconst Dashboard: React.FC = () => {\n  const {\n    data,\n    filteredData,\n    paginatedData,\n    loading,\n    error,\n    filters,\n    sort,\n    pagination,\n    loadData,\n    updateFilters,\n    handleResetFilters,\n    updateSort,\n    goToPage,\n    changePageSize,\n  } = useInventoryTable();\n\n  const { isDark, toggleDarkMode } = useDarkMode();\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n      {/* Header */}\n      <header className=\"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center\">\n              <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                3PL Inventory Dashboard\n              </h1>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={toggleDarkMode}\n                className=\"p-2\"\n              >\n                {isDark ? '‚òÄÔ∏è' : 'üåô'}\n              </Button>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={loadData}\n                loading={loading}\n              >\n                –û–±–Ω–æ–≤–∏—Ç—å\n              </Button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Error State */}\n        {error && (\n          <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4 mb-6\">\n            <div className=\"flex\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <h3 className=\"text-sm font-medium text-red-800 dark:text-red-400\">\n                  –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö\n                </h3>\n                <p className=\"mt-1 text-sm text-red-700 dark:text-red-300\">\n                  {error}\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Loading State */}\n        {loading && !error && (\n          <div className=\"flex justify-center py-12\">\n            <Loader size=\"lg\" text=\"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...\" />\n          </div>\n        )}\n\n        {/* Content */}\n        {!loading && !error && (\n          <>\n            {/* Filters Panel */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6\">\n              <FilterPanel\n                filters={filters}\n                onFiltersChange={updateFilters}\n                availableConditions={Array.from(new Set(data.map(item => item.condition)))}\n                availableIspolnitels={getUniqueIspolnitels(data)}\n                allData={data}\n              />\n            </div>\n\n            {/* Table */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden\">\n              <InventoryTable\n                data={paginatedData}\n                sort={sort}\n                onSortChange={updateSort}\n                loading={loading}\n              />\n            </div>\n\n            {/* Pagination */}\n            {filteredData.length > 0 && (\n              <div className=\"mt-6\">\n                <Pagination\n                  pagination={pagination}\n                  onPageChange={goToPage}\n                  onPageSizeChange={changePageSize}\n                />\n              </div>\n            )}\n\n            {/* Bottom Actions */}\n            <div className=\"mt-6 flex justify-between items-center\">\n              <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                {filteredData.length === data.length ? (\n                  `–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: ${data.length}`\n                ) : (\n                  `–ü–æ–∫–∞–∑–∞–Ω–æ ${filteredData.length} –∏–∑ ${data.length} –∑–∞–ø–∏—Å–µ–π`\n                )}\n              </div>\n              <div className=\"flex space-x-3\">\n                <Button\n                  variant=\"outline\"\n                  onClick={handleResetFilters}\n                  disabled={!filters.search && !filters.name && !filters.wr_name && !filters.condition && !filters.ispolnitel && filters.placementStatus === 'all'}\n                >\n                  –°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã\n                </Button>\n                <ExportButton\n                  data={filteredData}\n                  disabled={filteredData.length === 0}\n                />\n              </div>\n            </div>\n          </>\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}