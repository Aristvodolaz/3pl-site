{"ast":null,"code":"// Filter items based on filter state\nexport const filterItems = (items, filters) => {\n  return items.filter(item => {\n    // Search by shk (exact match or partial)\n    if (filters.search && !item.shk.toLowerCase().includes(filters.search.toLowerCase())) {\n      return false;\n    }\n\n    // Filter by name (partial match)\n    if (filters.name && !item.name.toLowerCase().includes(filters.name.toLowerCase())) {\n      return false;\n    }\n\n    // Filter by wr_name (partial match, handle null values)\n    if (filters.wr_name) {\n      if (!item.wr_name || !item.wr_name.toLowerCase().includes(filters.wr_name.toLowerCase())) {\n        return false;\n      }\n    }\n\n    // Filter by condition (exact match)\n    if (filters.condition && item.condition !== filters.condition) {\n      return false;\n    }\n\n    // Filter by ispolnitel (partial match)\n    if (filters.ispolnitel && !item.ispolnitel.toLowerCase().includes(filters.ispolnitel.toLowerCase())) {\n      return false;\n    }\n    return true;\n  });\n};\n\n// Get unique values for filter options\nexport const getUniqueConditions = items => {\n  const conditions = items.map(item => item.condition);\n  return Array.from(new Set(conditions)).sort();\n};\n\n// Get unique ispolnitels for filter options\nexport const getUniqueIspolnitels = items => {\n  const ispolnitels = items.map(item => item.ispolnitel);\n  return Array.from(new Set(ispolnitels)).sort();\n};\n\n// Check if any filters are active\nexport const hasActiveFilters = filters => {\n  return !!(filters.search || filters.name || filters.wr_name || filters.condition || filters.ispolnitel);\n};\n\n// Reset all filters to empty state\nexport const resetFilters = () => ({\n  search: '',\n  name: '',\n  wr_name: '',\n  condition: '',\n  ispolnitel: ''\n});","map":{"version":3,"names":["filterItems","items","filters","filter","item","search","shk","toLowerCase","includes","name","wr_name","condition","ispolnitel","getUniqueConditions","conditions","map","Array","from","Set","sort","getUniqueIspolnitels","ispolnitels","hasActiveFilters","resetFilters"],"sources":["D:/work/komus/3pl-site/src/features/inventory-table/lib/filterUtils.ts"],"sourcesContent":["import { PlacedItemDto, FilterState } from '../model/types';\n\n// Filter items based on filter state\nexport const filterItems = (items: PlacedItemDto[], filters: FilterState): PlacedItemDto[] => {\n  return items.filter((item) => {\n    // Search by shk (exact match or partial)\n    if (filters.search && !item.shk.toLowerCase().includes(filters.search.toLowerCase())) {\n      return false;\n    }\n\n    // Filter by name (partial match)\n    if (filters.name && !item.name.toLowerCase().includes(filters.name.toLowerCase())) {\n      return false;\n    }\n\n    // Filter by wr_name (partial match, handle null values)\n    if (filters.wr_name) {\n      if (!item.wr_name || !item.wr_name.toLowerCase().includes(filters.wr_name.toLowerCase())) {\n        return false;\n      }\n    }\n\n    // Filter by condition (exact match)\n    if (filters.condition && item.condition !== filters.condition) {\n      return false;\n    }\n\n    // Filter by ispolnitel (partial match)\n    if (filters.ispolnitel && !item.ispolnitel.toLowerCase().includes(filters.ispolnitel.toLowerCase())) {\n      return false;\n    }\n\n    return true;\n  });\n};\n\n// Get unique values for filter options\nexport const getUniqueConditions = (items: PlacedItemDto[]): string[] => {\n  const conditions = items.map(item => item.condition);\n  return Array.from(new Set(conditions)).sort();\n};\n\n// Get unique ispolnitels for filter options\nexport const getUniqueIspolnitels = (items: PlacedItemDto[]): string[] => {\n  const ispolnitels = items.map(item => item.ispolnitel);\n  return Array.from(new Set(ispolnitels)).sort();\n};\n\n// Check if any filters are active\nexport const hasActiveFilters = (filters: FilterState): boolean => {\n  return !!(filters.search || filters.name || filters.wr_name || filters.condition || filters.ispolnitel);\n};\n\n// Reset all filters to empty state\nexport const resetFilters = (): FilterState => ({\n  search: '',\n  name: '',\n  wr_name: '',\n  condition: '',\n  ispolnitel: '',\n}); "],"mappings":"AAEA;AACA,OAAO,MAAMA,WAAW,GAAGA,CAACC,KAAsB,EAAEC,OAAoB,KAAsB;EAC5F,OAAOD,KAAK,CAACE,MAAM,CAAEC,IAAI,IAAK;IAC5B;IACA,IAAIF,OAAO,CAACG,MAAM,IAAI,CAACD,IAAI,CAACE,GAAG,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACN,OAAO,CAACG,MAAM,CAACE,WAAW,CAAC,CAAC,CAAC,EAAE;MACpF,OAAO,KAAK;IACd;;IAEA;IACA,IAAIL,OAAO,CAACO,IAAI,IAAI,CAACL,IAAI,CAACK,IAAI,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACN,OAAO,CAACO,IAAI,CAACF,WAAW,CAAC,CAAC,CAAC,EAAE;MACjF,OAAO,KAAK;IACd;;IAEA;IACA,IAAIL,OAAO,CAACQ,OAAO,EAAE;MACnB,IAAI,CAACN,IAAI,CAACM,OAAO,IAAI,CAACN,IAAI,CAACM,OAAO,CAACH,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACN,OAAO,CAACQ,OAAO,CAACH,WAAW,CAAC,CAAC,CAAC,EAAE;QACxF,OAAO,KAAK;MACd;IACF;;IAEA;IACA,IAAIL,OAAO,CAACS,SAAS,IAAIP,IAAI,CAACO,SAAS,KAAKT,OAAO,CAACS,SAAS,EAAE;MAC7D,OAAO,KAAK;IACd;;IAEA;IACA,IAAIT,OAAO,CAACU,UAAU,IAAI,CAACR,IAAI,CAACQ,UAAU,CAACL,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACN,OAAO,CAACU,UAAU,CAACL,WAAW,CAAC,CAAC,CAAC,EAAE;MACnG,OAAO,KAAK;IACd;IAEA,OAAO,IAAI;EACb,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,OAAO,MAAMM,mBAAmB,GAAIZ,KAAsB,IAAe;EACvE,MAAMa,UAAU,GAAGb,KAAK,CAACc,GAAG,CAACX,IAAI,IAAIA,IAAI,CAACO,SAAS,CAAC;EACpD,OAAOK,KAAK,CAACC,IAAI,CAAC,IAAIC,GAAG,CAACJ,UAAU,CAAC,CAAC,CAACK,IAAI,CAAC,CAAC;AAC/C,CAAC;;AAED;AACA,OAAO,MAAMC,oBAAoB,GAAInB,KAAsB,IAAe;EACxE,MAAMoB,WAAW,GAAGpB,KAAK,CAACc,GAAG,CAACX,IAAI,IAAIA,IAAI,CAACQ,UAAU,CAAC;EACtD,OAAOI,KAAK,CAACC,IAAI,CAAC,IAAIC,GAAG,CAACG,WAAW,CAAC,CAAC,CAACF,IAAI,CAAC,CAAC;AAChD,CAAC;;AAED;AACA,OAAO,MAAMG,gBAAgB,GAAIpB,OAAoB,IAAc;EACjE,OAAO,CAAC,EAAEA,OAAO,CAACG,MAAM,IAAIH,OAAO,CAACO,IAAI,IAAIP,OAAO,CAACQ,OAAO,IAAIR,OAAO,CAACS,SAAS,IAAIT,OAAO,CAACU,UAAU,CAAC;AACzG,CAAC;;AAED;AACA,OAAO,MAAMW,YAAY,GAAGA,CAAA,MAAoB;EAC9ClB,MAAM,EAAE,EAAE;EACVI,IAAI,EAAE,EAAE;EACRC,OAAO,EAAE,EAAE;EACXC,SAAS,EAAE,EAAE;EACbC,UAAU,EAAE;AACd,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}