{"ast":null,"code":"import React from'react';import{Input}from'../../../shared/ui/Input';import{Select}from'../../../shared/ui/Select';import{Button}from'../../../shared/ui/Button';import{getPlacementStats}from'../lib/filterUtils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const FilterPanel=_ref=>{let{filters,onFiltersChange,availableConditions,availableIspolnitels=[],allData}=_ref;const conditionOptions=[{value:'',label:'Все состояния'},...availableConditions.map(condition=>({value:condition,label:condition}))];const ispolnitelOptions=[{value:'',label:'Все исполнители'},...availableIspolnitels.map(ispolnitel=>({value:ispolnitel,label:ispolnitel}))];const stats=getPlacementStats(allData);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:\"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B \\u0438 \\u043F\\u043E\\u0438\\u0441\\u043A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u0440\\u0430\\u0437\\u043C\\u0435\\u0449\\u0435\\u043D\\u0438\\u044F:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1\",children:[/*#__PURE__*/_jsxs(Button,{variant:filters.placementStatus==='all'?'primary':'outline',size:\"sm\",onClick:()=>onFiltersChange({placementStatus:'all'}),children:[\"\\u0412\\u0441\\u0435 (\",stats.total,\")\"]}),/*#__PURE__*/_jsxs(Button,{variant:filters.placementStatus==='placed'?'primary':'outline',size:\"sm\",onClick:()=>onFiltersChange({placementStatus:'placed'}),children:[\"\\u0420\\u0430\\u0437\\u043C\\u0435\\u0449\\u0435\\u043D\\u043D\\u044B\\u0435 (\",stats.placed,\")\"]}),/*#__PURE__*/_jsxs(Button,{variant:filters.placementStatus==='not_placed'?'primary':'outline',size:\"sm\",onClick:()=>onFiltersChange({placementStatus:'not_placed'}),children:[\"\\u041D\\u0435\\u0440\\u0430\\u0437\\u043C\\u0435\\u0449\\u0435\\u043D\\u043D\\u044B\\u0435 (\",stats.notPlaced,\")\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-7 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Input,{label:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u0428\\u041A\",type:\"search\",value:filters.search,onChange:value=>onFiltersChange({search:value}),placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0428\\u041A \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Input,{label:\"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440 \\u043F\\u043E \\u043D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u044E\",value:filters.name,onChange:value=>onFiltersChange({name:value}),placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Input,{label:\"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440 \\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E \\u044F\\u0447\\u0435\\u0439\\u043A\\u0438\",value:filters.wr_name,onChange:value=>onFiltersChange({wr_name:value}),placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u044F\\u0447\\u0435\\u0439\\u043A\\u0438\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Select,{label:\"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440 \\u043F\\u043E \\u0441\\u043E\\u0441\\u0442\\u043E\\u044F\\u043D\\u0438\\u044E\",value:filters.condition,onChange:value=>onFiltersChange({condition:value}),options:conditionOptions,placeholder:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0441\\u043E\\u0441\\u0442\\u043E\\u044F\\u043D\\u0438\\u0435\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Select,{label:\"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440 \\u043F\\u043E \\u0438\\u0441\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044E\",value:filters.ispolnitel,onChange:value=>onFiltersChange({ispolnitel:value}),options:ispolnitelOptions,placeholder:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0438\\u0441\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044F\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Input,{label:\"\\u0414\\u0430\\u0442\\u0430 \\u0441\",type:\"date\",value:filters.dateFrom,onChange:value=>onFiltersChange({dateFrom:value}),placeholder:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0434\\u0430\\u0442\\u0443 \\u043D\\u0430\\u0447\\u0430\\u043B\\u0430\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Input,{label:\"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u043E\",type:\"date\",value:filters.dateTo,onChange:value=>onFiltersChange({dateTo:value}),placeholder:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0434\\u0430\\u0442\\u0443 \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u044F\"})})]})]});};","map":{"version":3,"names":["React","Input","Select","Button","getPlacementStats","jsx","_jsx","jsxs","_jsxs","FilterPanel","_ref","filters","onFiltersChange","availableConditions","availableIspolnitels","allData","conditionOptions","value","label","map","condition","ispolnitelOptions","ispolnitel","stats","className","children","variant","placementStatus","size","onClick","total","placed","notPlaced","type","search","onChange","placeholder","name","wr_name","options","dateFrom","dateTo"],"sources":["D:/work/komus/3pl-site/src/features/inventory-table/ui/FilterPanel.tsx"],"sourcesContent":["import React from 'react';\nimport { FilterState } from '../model/types';\nimport { Input } from '../../../shared/ui/Input';\nimport { Select } from '../../../shared/ui/Select';\nimport { Button } from '../../../shared/ui/Button';\nimport { getPlacementStats } from '../lib/filterUtils';\n\ninterface FilterPanelProps {\n  filters: FilterState;\n  onFiltersChange: (filters: Partial<FilterState>) => void;\n  availableConditions: string[];\n  availableIspolnitels?: string[];\n  allData: any[]; // Для подсчета статистики\n}\n\nexport const FilterPanel: React.FC<FilterPanelProps> = ({\n  filters,\n  onFiltersChange,\n  availableConditions,\n  availableIspolnitels = [],\n  allData,\n}) => {\n  const conditionOptions = [\n    { value: '', label: 'Все состояния' },\n    ...availableConditions.map(condition => ({\n      value: condition,\n      label: condition,\n    })),\n  ];\n\n  const ispolnitelOptions = [\n    { value: '', label: 'Все исполнители' },\n    ...availableIspolnitels.map(ispolnitel => ({\n      value: ispolnitel,\n      label: ispolnitel,\n    })),\n  ];\n\n  const stats = getPlacementStats(allData);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">\n          Фильтры и поиск\n        </h3>\n        \n        {/* Placement Status Buttons */}\n        <div className=\"flex items-center space-x-2\">\n          <span className=\"text-sm text-gray-600 dark:text-gray-400\">\n            Статус размещения:\n          </span>\n          <div className=\"flex space-x-1\">\n            <Button\n              variant={filters.placementStatus === 'all' ? 'primary' : 'outline'}\n              size=\"sm\"\n              onClick={() => onFiltersChange({ placementStatus: 'all' })}\n            >\n              Все ({stats.total})\n            </Button>\n            <Button\n              variant={filters.placementStatus === 'placed' ? 'primary' : 'outline'}\n              size=\"sm\"\n              onClick={() => onFiltersChange({ placementStatus: 'placed' })}\n            >\n              Размещенные ({stats.placed})\n            </Button>\n            <Button\n              variant={filters.placementStatus === 'not_placed' ? 'primary' : 'outline'}\n              size=\"sm\"\n              onClick={() => onFiltersChange({ placementStatus: 'not_placed' })}\n            >\n              Неразмещенные ({stats.notPlaced})\n            </Button>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-7 gap-4\">\n        {/* Search by SHK */}\n        <div>\n          <Input\n            label=\"Поиск по ШК\"\n            type=\"search\"\n            value={filters.search}\n            onChange={(value) => onFiltersChange({ search: value })}\n            placeholder=\"Введите ШК товара\"\n          />\n        </div>\n\n        {/* Filter by Name */}\n        <div>\n          <Input\n            label=\"Фильтр по наименованию\"\n            value={filters.name}\n            onChange={(value) => onFiltersChange({ name: value })}\n            placeholder=\"Введите наименование\"\n          />\n        </div>\n\n        {/* Filter by WR Name */}\n        <div>\n          <Input\n            label=\"Фильтр по названию ячейки\"\n            value={filters.wr_name}\n            onChange={(value) => onFiltersChange({ wr_name: value })}\n            placeholder=\"Введите название ячейки\"\n          />\n        </div>\n\n        {/* Filter by Condition */}\n        <div>\n          <Select\n            label=\"Фильтр по состоянию\"\n            value={filters.condition}\n            onChange={(value) => onFiltersChange({ condition: value })}\n            options={conditionOptions}\n            placeholder=\"Выберите состояние\"\n          />\n        </div>\n\n        {/* Filter by Ispolnitel */}\n        <div>\n          <Select\n            label=\"Фильтр по исполнителю\"\n            value={filters.ispolnitel}\n            onChange={(value) => onFiltersChange({ ispolnitel: value })}\n            options={ispolnitelOptions}\n            placeholder=\"Выберите исполнителя\"\n          />\n        </div>\n\n        {/* Filter by Date From */}\n        <div>\n          <Input\n            label=\"Дата с\"\n            type=\"date\"\n            value={filters.dateFrom}\n            onChange={(value) => onFiltersChange({ dateFrom: value })}\n            placeholder=\"Выберите дату начала\"\n          />\n        </div>\n\n        {/* Filter by Date To */}\n        <div>\n          <Input\n            label=\"Дата по\"\n            type=\"date\"\n            value={filters.dateTo}\n            onChange={(value) => onFiltersChange({ dateTo: value })}\n            placeholder=\"Выберите дату окончания\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}