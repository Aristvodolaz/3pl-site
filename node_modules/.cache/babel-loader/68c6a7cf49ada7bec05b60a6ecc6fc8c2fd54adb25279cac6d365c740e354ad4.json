{"ast":null,"code":"var _jsxFileName = \"D:\\\\work\\\\komus\\\\3pl-site\\\\src\\\\features\\\\inventory-table\\\\ui\\\\ExportButton.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { exportToExcel, getExportSummary } from '../../../shared/utils/exportToExcel';\nimport { Button } from '../../../shared/ui/Button';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ExportButton = ({\n  data,\n  disabled = false,\n  totalItems\n}) => {\n  _s();\n  const [isExporting, setIsExporting] = useState(false);\n  const handleExport = async () => {\n    if (data.length === 0) {\n      return;\n    }\n    setIsExporting(true);\n    try {\n      await exportToExcel(data);\n\n      // Show success message (could be replaced with toast notification)\n      const summary = getExportSummary(totalItems || data.length, data.length);\n      console.log('Export successful:', summary);\n\n      // You could add a toast notification here\n      // toast.success(summary);\n    } catch (error) {\n      console.error('Export failed:', error);\n\n      // You could add a toast notification here\n      // toast.error('Не удалось экспортировать данные');\n    } finally {\n      setIsExporting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Button, {\n    variant: \"primary\",\n    onClick: handleExport,\n    disabled: disabled || isExporting,\n    loading: isExporting,\n    children: isExporting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"animate-spin -ml-1 mr-2 h-4 w-4\",\n        fill: \"none\",\n        viewBox: \"0 0 24 24\",\n        children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n          className: \"opacity-25\",\n          cx: \"12\",\n          cy: \"12\",\n          r: \"10\",\n          stroke: \"currentColor\",\n          strokeWidth: \"4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n          className: \"opacity-75\",\n          fill: \"currentColor\",\n          d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), \"\\u042D\\u043A\\u0441\\u043F\\u043E\\u0440\\u0442...\"]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"-ml-1 mr-2 h-4 w-4\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        viewBox: \"0 0 24 24\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 2,\n          d: \"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), \"\\u042D\\u043A\\u0441\\u043F\\u043E\\u0440\\u0442 \\u0432 Excel\"]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(ExportButton, \"XQ7fG7pvVdpe4/5dD4LeZqiOLo4=\");\n_c = ExportButton;\nvar _c;\n$RefreshReg$(_c, \"ExportButton\");","map":{"version":3,"names":["React","useState","exportToExcel","getExportSummary","Button","jsxDEV","_jsxDEV","Fragment","_Fragment","ExportButton","data","disabled","totalItems","_s","isExporting","setIsExporting","handleExport","length","summary","console","log","error","variant","onClick","loading","children","className","fill","viewBox","cx","cy","r","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","d","strokeLinecap","strokeLinejoin","_c","$RefreshReg$"],"sources":["D:/work/komus/3pl-site/src/features/inventory-table/ui/ExportButton.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { PlacedItemDto } from '../model/types';\r\nimport { exportToExcel, getExportSummary } from '../../../shared/utils/exportToExcel';\r\nimport { Button } from '../../../shared/ui/Button';\r\n\r\ninterface ExportButtonProps {\r\n  data: PlacedItemDto[];\r\n  disabled?: boolean;\r\n  totalItems?: number;\r\n}\r\n\r\nexport const ExportButton: React.FC<ExportButtonProps> = ({\r\n  data,\r\n  disabled = false,\r\n  totalItems,\r\n}) => {\r\n  const [isExporting, setIsExporting] = useState(false);\r\n\r\n  const handleExport = async () => {\r\n    if (data.length === 0) {\r\n      return;\r\n    }\r\n\r\n    setIsExporting(true);\r\n    \r\n    try {\r\n      await exportToExcel(data);\r\n      \r\n      // Show success message (could be replaced with toast notification)\r\n      const summary = getExportSummary(totalItems || data.length, data.length);\r\n      console.log('Export successful:', summary);\r\n      \r\n      // You could add a toast notification here\r\n      // toast.success(summary);\r\n      \r\n    } catch (error) {\r\n      console.error('Export failed:', error);\r\n      \r\n      // You could add a toast notification here\r\n      // toast.error('Не удалось экспортировать данные');\r\n      \r\n    } finally {\r\n      setIsExporting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      variant=\"primary\"\r\n      onClick={handleExport}\r\n      disabled={disabled || isExporting}\r\n      loading={isExporting}\r\n    >\r\n      {isExporting ? (\r\n        <>\r\n          <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n          </svg>\r\n          Экспорт...\r\n        </>\r\n      ) : (\r\n        <>\r\n          <svg className=\"-ml-1 mr-2 h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n          </svg>\r\n          Экспорт в Excel\r\n        </>\r\n      )}\r\n    </Button>\r\n  );\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}