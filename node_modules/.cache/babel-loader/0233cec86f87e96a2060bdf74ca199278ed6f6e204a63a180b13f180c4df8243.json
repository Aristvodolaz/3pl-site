{"ast":null,"code":"import axios from 'axios';\n\n// Get API base URL from environment or use default\nconst getApiBaseUrl = () => {\n  // For browser environment, check if process is available\n  if (typeof window !== 'undefined' && window.location) {\n    return window.location.origin;\n  }\n  return 'http://10.171.12.36:3010';\n};\nexport const apiClient = axios.create({\n  baseURL: getApiBaseUrl(),\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Request interceptor\napiClient.interceptors.request.use(config => {\n  // Add any auth headers here if needed\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// Response interceptor\napiClient.interceptors.response.use(response => {\n  return response;\n}, error => {\n  var _error$response, _error$response2;\n  // Handle common errors\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    // Handle unauthorized\n    console.error('Unauthorized access');\n  } else if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) >= 500) {\n    // Handle server errors\n    console.error('Server error:', error.response.data);\n  }\n  return Promise.reject(error);\n});","map":{"version":3,"names":["axios","getApiBaseUrl","window","location","origin","apiClient","create","baseURL","timeout","headers","interceptors","request","use","config","error","Promise","reject","response","_error$response","_error$response2","status","console","data"],"sources":["D:/work/komus/3pl-site/src/shared/api/client.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Get API base URL from environment or use default\r\nconst getApiBaseUrl = (): string => {\r\n  // For browser environment, check if process is available\r\n  if (typeof window !== 'undefined' && window.location) {\r\n    return window.location.origin;\r\n  }\r\n  return 'http://10.171.12.36:3010';\r\n};\r\n\r\nexport const apiClient = axios.create({\r\n  baseURL: getApiBaseUrl(),\r\n  timeout: 10000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Request interceptor\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    // Add any auth headers here if needed\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor\r\napiClient.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // Handle common errors\r\n    if (error.response?.status === 401) {\r\n      // Handle unauthorized\r\n      console.error('Unauthorized access');\r\n    } else if (error.response?.status >= 500) {\r\n      // Handle server errors\r\n      console.error('Server error:', error.response.data);\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n); "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,aAAa,GAAGA,CAAA,KAAc;EAClC;EACA,IAAI,OAAOC,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACC,QAAQ,EAAE;IACpD,OAAOD,MAAM,CAACC,QAAQ,CAACC,MAAM;EAC/B;EACA,OAAO,0BAA0B;AACnC,CAAC;AAED,OAAO,MAAMC,SAAS,GAAGL,KAAK,CAACM,MAAM,CAAC;EACpCC,OAAO,EAAEN,aAAa,CAAC,CAAC;EACxBO,OAAO,EAAE,KAAK;EACdC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACAJ,SAAS,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CAC/BC,MAAM,IAAK;EACV;EACA,OAAOA,MAAM;AACf,CAAC,EACAC,KAAK,IAAK;EACT,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACAT,SAAS,CAACK,YAAY,CAACO,QAAQ,CAACL,GAAG,CAChCK,QAAQ,IAAK;EACZ,OAAOA,QAAQ;AACjB,CAAC,EACAH,KAAK,IAAK;EAAA,IAAAI,eAAA,EAAAC,gBAAA;EACT;EACA,IAAI,EAAAD,eAAA,GAAAJ,KAAK,CAACG,QAAQ,cAAAC,eAAA,uBAAdA,eAAA,CAAgBE,MAAM,MAAK,GAAG,EAAE;IAClC;IACAC,OAAO,CAACP,KAAK,CAAC,qBAAqB,CAAC;EACtC,CAAC,MAAM,IAAI,EAAAK,gBAAA,GAAAL,KAAK,CAACG,QAAQ,cAAAE,gBAAA,uBAAdA,gBAAA,CAAgBC,MAAM,KAAI,GAAG,EAAE;IACxC;IACAC,OAAO,CAACP,KAAK,CAAC,eAAe,EAAEA,KAAK,CAACG,QAAQ,CAACK,IAAI,CAAC;EACrD;EACA,OAAOP,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}